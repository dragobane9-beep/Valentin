<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è —Ç–µ–±—è üíù</title>

<style>
body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    background: radial-gradient(circle at top, #ff8fcf, #ff2f92);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    color: #fff;
    text-align: center;
}

.container {
    width: 90%;
    max-width: 420px;
    z-index: 2;
}

h1 {
    font-size: 22px;
    margin-bottom: 20px;
}

img {
    width: 220px;
    border-radius: 18px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

.buttons {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 20px;
    height: 150px;
    position: relative;
}

button {
    width: 120px;
    padding: 14px 0;
    font-size: 16px;
    border: none;
    border-radius: 18px;
    cursor: pointer;
    transition: 0.2s ease;
    font-weight: 600;
}

#yesBtn {
    background: #fff;
    color: #ff1493;
}

#noBtn {
    background: #ff1a4d;
    color: #fff;
    position: relative;
}

#finalScreen {
    display: none;
}

.linkBtn {
    display: inline-block;
    margin-top: 20px;
    padding: 14px 24px;
    border-radius: 20px;
    background: #fff;
    color: #ff1493;
    font-weight: bold;
    text-decoration: none;
}

.burst {
    position: absolute;
    font-size: 22px;
    animation: explode 1s ease-out forwards;
    pointer-events: none;
}

@keyframes explode {
    0% { transform: translate(0,0) scale(1); opacity:1; }
    100% { transform: translate(var(--x), var(--y)) scale(1.8); opacity:0; }
}
</style>
</head>

<body>

<div class="container" id="mainScreen">
    <h1 id="question">–ö–∞–Ω—ã—é—à, —Ç—ã –±—É–¥–µ—à—å –º–æ–∏–º –≤–∞–ª–µ–Ω—Ç–∏–Ω–æ–º? üíñ</h1>

    <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">

    <div class="buttons">
        <button id="yesBtn">–î–∞</button>
        <button id="noBtn">–ù–µ—Ç</button>
    </div>
</div>

<div class="container" id="finalScreen">
    <h1>–¢–æ–≥–¥–∞ —Å–æ–±–∏—Ä–∞–π—Å—è‚Ä¶ –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞ üëë</h1>

    <a class="linkBtn"
       href="https://2gis.kg/bishkek/geo/15763234351054810/74.627993,42.821678"
       target="_blank">
       –Ø –∂–¥—É —Ç–µ–±—è –∑–¥–µ—Å—å üíå
    </a>

    <p style="margin-top:20px;">
        –∏ –Ω–µ –∑–∞–±—É–¥—å –º–∞—Ä–∫–µ—Ä—ã üòâ
    </p>
</div>

<audio id="bgMusic" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5d6e3e58fd.mp3?filename=romantic-ambient-110364.mp3" type="audio/mpeg">
</audio>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const mainScreen = document.getElementById("mainScreen");
const finalScreen = document.getElementById("finalScreen");
const question = document.getElementById("question");
const bgMusic = document.getElementById("bgMusic");

let clickCount = 0;

const texts = [
    "—Ç—ã —É–≤–µ—Ä–µ–Ω–∞? üòè",
    "—Ç–æ—á–Ω–æ —Ç–æ—á–Ω–æ? üí≠",
    "–º–æ–∂–µ—Ç –≤—Å—ë-—Ç–∞–∫–∏ –¥–∞? ü•∫"
];

noBtn.addEventListener("pointerdown", () => {

    if (clickCount >= 4) return;

    clickCount++;

    if (clickCount <= texts.length) {
        question.textContent = texts[clickCount - 1];
    }

    if (clickCount < 4) {

        // —á–µ–º –±–æ–ª—å—à–µ –∫–ª–∏–∫–æ–≤ ‚Äî —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ –ø–∞–Ω–∏–∫–∞ –∫–Ω–æ–ø–∫–∏
        const power = clickCount * 200;

        const moveX = Math.random() * power - power / 2;
        const moveY = Math.random() * power - power / 2;

        noBtn.style.transform = `translate(${moveX}px, ${moveY}px)`;
    }

    if (clickCount === 4) {
        noBtn.textContent = "–î–∞";
        noBtn.style.background = "#fff";
        noBtn.style.color = "#ff1493";
        noBtn.style.transform = "translate(0,0)";
    }
});

function heartBurst() {
    for (let i = 0; i < 30; i++) {
        const heart = document.createElement("div");
        heart.className = "burst";
        heart.innerHTML = "üíñ";
        heart.style.left = "50%";
        heart.style.top = "50%";
        heart.style.setProperty('--x', (Math.random() * 500 - 250) + "px");
        heart.style.setProperty('--y', (Math.random() * 500 - 250) + "px");
        document.body.appendChild(heart);

        setTimeout(() => heart.remove(), 1000);
    }
}

function acceptAction() {
    heartBurst();
    setTimeout(() => {
        mainScreen.style.display = "none";
        finalScreen.style.display = "block";
        bgMusic.play();
    }, 800);
}

yesBtn.addEventListener("click", acceptAction);

noBtn.addEventListener("click", () => {
    if (noBtn.textContent === "–î–∞") {
        acceptAction();
    }
});
</script>

</body>
</html>
